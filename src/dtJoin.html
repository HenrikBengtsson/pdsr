<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>

<meta charset="utf-8" />
<meta name="generator" content="quarto-99.9.9" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />


<title>PDSR – 30  Joins</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<!-- htmldependencies:E3FAD763 -->
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script type="text/javascript">

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-163213745-1', 'auto');

ga('send', {
  hitType: 'pageview',
  'anonymizeIp': true,
});
</script>


<link rel="stylesheet" href="bootstrap.lambdamd.css" />
</head>

<body>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn"
      data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" 
      aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation"
      onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <h1 class="quarto-secondary-nav-title no-breadcrumbs"></h1>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" 
        aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation"
        onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="/">
      PDSR
      </a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/egenn/pdsr/tree/master/src/"  title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/Preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>1</span>  <span class='chapter-title'>Preface</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/Introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>2</span>  <span class='chapter-title'>Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/IDEs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>3</span>  <span class='chapter-title'>IDEs</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/Packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>4</span>  <span class='chapter-title'>R packages</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/BasicOps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>5</span>  <span class='chapter-title'>Basic operations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/DataTypes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>6</span>  <span class='chapter-title'>Data Types & Vectors</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/DataStructures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>7</span>  <span class='chapter-title'>Data Structures</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/Indexing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>8</span>  <span class='chapter-title'>Indexing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/Factors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>9</span>  <span class='chapter-title'>Factors</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/DataIO.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>10</span>  <span class='chapter-title'>Data Input/Output</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/Vectorization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>11</span>  <span class='chapter-title'>Vectorized Operations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/ControlFlow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>12</span>  <span class='chapter-title'>Control flow</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/Summarize.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>13</span>  <span class='chapter-title'>Summarizing Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/Aggregate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>14</span>  <span class='chapter-title'>Aggregate</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/Functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>15</span>  <span class='chapter-title'>Functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/LoopFunctions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>16</span>  <span class='chapter-title'>Loop Functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="/DataFrames.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Frames</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/dfBasics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>17</span>  <span class='chapter-title'>Working with Data frames</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/dfReshape.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>18</span>  <span class='chapter-title'>Reshaping</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/dfJoin.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>19</span>  <span class='chapter-title'>Joins</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/DataTrans.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>20</span>  <span class='chapter-title'>Data Transformations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/MissingData.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>21</span>  <span class='chapter-title'>Handling Missing data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/Strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>22</span>  <span class='chapter-title'>Strings</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/DateTime.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>23</span>  <span class='chapter-title'>Date and Time</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/SetOps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>24</span>  <span class='chapter-title'>Set operations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/ClassesAndOOP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>25</span>  <span class='chapter-title'>Classes and OOP</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="/DataTable.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Table</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/dtBasics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>26</span>  <span class='chapter-title'>Efficient data analysis with **data.table**</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/dtRefSem.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>27</span>  <span class='chapter-title'>Reference semantics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/dtDataIO.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>28</span>  <span class='chapter-title'>Data I/O</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/dtReshape.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>29</span>  <span class='chapter-title'>Reshape</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/dtJoin.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class='chapter-number'>30</span>  <span class='chapter-title'>Joins</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/DataTableII.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>31</span>  <span class='chapter-title'>Advanced usage examples</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="/Tidyverse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tidyverse</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>32</span>  <span class='chapter-title'>Introduction to **dplyr**</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/dplyrJoin.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>33</span>  <span class='chapter-title'>Joins</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/tidyrReshape.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>34</span>  <span class='chapter-title'>Reshaping with **tidyr**</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/lubridate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>35</span>  <span class='chapter-title'>Dates with **lubridate**</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="/Graphics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Graphics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/BaseGraphics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>36</span>  <span class='chapter-title'>Base Graphics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/Colors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>37</span>  <span class='chapter-title'>Colors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/ggplot2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>38</span>  <span class='chapter-title'>Introduction to **ggplot2**</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/plotly.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>39</span>  <span class='chapter-title'>Introduction to **plotly**</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/HypothesisTesting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>40</span>  <span class='chapter-title'>Common statistical tests</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/GLM.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>41</span>  <span class='chapter-title'>Introduction to the GLM</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/Profiling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>42</span>  <span class='chapter-title'>Benchmarking & Profiling</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/Optimization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>43</span>  <span class='chapter-title'>Optimization</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="/IntroML.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to Machine Learning</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/Resampling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>44</span>  <span class='chapter-title'>Resampling</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/Supervised.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>45</span>  <span class='chapter-title'>Supervised Learning</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/Unsupervised.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>46</span>  <span class='chapter-title'>Unsupervised Learning</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/Quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>47</span>  <span class='chapter-title'>Quarto</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="/System.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">System</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/TerminalIntro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>48</span>  <span class='chapter-title'>Introduction to the system shell</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/GitHubIntro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>49</span>  <span class='chapter-title'>Git & GitHub: the basics</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/Resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>50</span>  <span class='chapter-title'>Resources</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/DataPipeline.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class='chapter-number'>51</span>  <span class='chapter-title'>Data Pipeline Overview</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/CrashCourse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Crash Course</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/References.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" ></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <div id="quarto-toc-target"></div>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-dtjoin" class="quarto-section-identifier"><span class="chapter-number">30</span>  <span class="chapter-title">Joins</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>

<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#inner" id="toc-inner"><span class="header-section-number">30.1</span> Inner</a></li>
  <li><a href="#outer" id="toc-outer"><span class="header-section-number">30.2</span> Outer</a></li>
  <li><a href="#left-outer" id="toc-left-outer"><span class="header-section-number">30.3</span> Left outer</a></li>
  <li><a href="#right-outer" id="toc-right-outer"><span class="header-section-number">30.4</span> Right outer</a></li>
  <li><a href="#see-also" id="toc-see-also"><span class="header-section-number">30.5</span> See also</a></li>
  </ul>
</nav>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span></code></pre></div>
</div>
<p><code>data.table</code> allows you to perform table joins with either:</p>
<ul>
<li>the base <code>merge()</code> function using the same syntax as for data.frame objects or</li>
<li>Using bracket notation - unique to <code>data.table</code> objects.</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">data.table</span>(<span class="at">PID =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>),</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">Hospital =</span> <span class="fu">c</span>(<span class="st">&quot;UCSF&quot;</span>, <span class="st">&quot;HUP&quot;</span>, <span class="st">&quot;Stanford&quot;</span>, </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>                             <span class="st">&quot;Stanford&quot;</span>, <span class="st">&quot;UCSF&quot;</span>, <span class="st">&quot;HUP&quot;</span>, </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>                             <span class="st">&quot;HUP&quot;</span>, <span class="st">&quot;Stanford&quot;</span>, <span class="st">&quot;UCSF&quot;</span>),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">Age =</span> <span class="fu">c</span>(<span class="dv">22</span>, <span class="dv">34</span>, <span class="dv">41</span>, <span class="dv">19</span>, <span class="dv">53</span>, <span class="dv">21</span>, <span class="dv">63</span>, <span class="dv">22</span>, <span class="dv">19</span>),</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">Sex =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>),</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">key =</span> <span class="st">&quot;PID&quot;</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>a</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Key: &lt;PID&gt;
     PID Hospital   Age   Sex
   &lt;int&gt;   &lt;char&gt; &lt;num&gt; &lt;num&gt;
1:     1     UCSF    22     1
2:     2      HUP    34     1
3:     3 Stanford    41     0
4:     4 Stanford    19     1
5:     5     UCSF    53     0
6:     6      HUP    21     0
7:     7      HUP    63     1
8:     8 Stanford    22     0
9:     9     UCSF    19     0</code></pre>
</div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">data.table</span>(<span class="at">PID =</span> <span class="fu">c</span>(<span class="dv">6</span><span class="sc">:</span><span class="dv">12</span>),</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">V1 =</span> <span class="fu">c</span>(<span class="dv">153</span>, <span class="dv">89</span>, <span class="dv">112</span>, <span class="dv">228</span>,  <span class="dv">91</span>, <span class="dv">190</span>, <span class="dv">101</span>),</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">Department =</span> <span class="fu">c</span>(<span class="st">&quot;Neurology&quot;</span>, <span class="st">&quot;Radiology&quot;</span>, <span class="st">&quot;Emergency&quot;</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&quot;Cardiology&quot;</span>, <span class="st">&quot;Surgery&quot;</span>, <span class="st">&quot;Neurology&quot;</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&quot;Psychiatry&quot;</span>),</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">key =</span> <span class="st">&quot;PID&quot;</span>)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>b</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Key: &lt;PID&gt;
     PID    V1 Department
   &lt;int&gt; &lt;num&gt;     &lt;char&gt;
1:     6   153  Neurology
2:     7    89  Radiology
3:     8   112  Emergency
4:     9   228 Cardiology
5:    10    91    Surgery
6:    11   190  Neurology
7:    12   101 Psychiatry</code></pre>
</div>
</div>
<p>In the above command we use the <code>key</code> argument to set <code>PID</code> as key. This can be performed after the <code>data.table</code> has been created using the <code>setkey()</code> command:</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setkey</span>(a, PID)</span></code></pre></div>
</div>
<p>Multiple keys can be set, in order, with the same <code>setkey()</code> command, separated by commas, e.g.:</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setkey</span>(a, PID, Hospital)</span></code></pre></div>
</div>
<p>Keys sort the data.table by the corresponding columns and can be used to perform left and right joins with bracket notation seen later.</p>
<section id="inner" class="level2" data-number="30.1">
<h2 data-number="30.1"><span class="header-section-number">30.1</span> Inner</h2>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">merge</span>(a, b)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Key: &lt;PID&gt;
     PID Hospital   Age   Sex    V1 Department
   &lt;int&gt;   &lt;char&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;     &lt;char&gt;
1:     6      HUP    21     0   153  Neurology
2:     7      HUP    63     1    89  Radiology
3:     8 Stanford    22     0   112  Emergency
4:     9     UCSF    19     0   228 Cardiology</code></pre>
</div>
</div>
</section>
<section id="outer" class="level2" data-number="30.2">
<h2 data-number="30.2"><span class="header-section-number">30.2</span> Outer</h2>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">merge</span>(a, b, <span class="at">all =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Key: &lt;PID&gt;
      PID Hospital   Age   Sex    V1 Department
    &lt;int&gt;   &lt;char&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;     &lt;char&gt;
 1:     1     UCSF    22     1    NA       &lt;NA&gt;
 2:     2      HUP    34     1    NA       &lt;NA&gt;
 3:     3 Stanford    41     0    NA       &lt;NA&gt;
 4:     4 Stanford    19     1    NA       &lt;NA&gt;
 5:     5     UCSF    53     0    NA       &lt;NA&gt;
 6:     6      HUP    21     0   153  Neurology
 7:     7      HUP    63     1    89  Radiology
 8:     8 Stanford    22     0   112  Emergency
 9:     9     UCSF    19     0   228 Cardiology
10:    10     &lt;NA&gt;    NA    NA    91    Surgery
11:    11     &lt;NA&gt;    NA    NA   190  Neurology
12:    12     &lt;NA&gt;    NA    NA   101 Psychiatry</code></pre>
</div>
</div>
</section>
<section id="left-outer" class="level2" data-number="30.3">
<h2 data-number="30.3"><span class="header-section-number">30.3</span> Left outer</h2>
<p>Using <code>merge()</code>:</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">merge</span>(a, b, <span class="at">all.x =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Key: &lt;PID&gt;
     PID Hospital   Age   Sex    V1 Department
   &lt;int&gt;   &lt;char&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;     &lt;char&gt;
1:     1     UCSF    22     1    NA       &lt;NA&gt;
2:     2      HUP    34     1    NA       &lt;NA&gt;
3:     3 Stanford    41     0    NA       &lt;NA&gt;
4:     4 Stanford    19     1    NA       &lt;NA&gt;
5:     5     UCSF    53     0    NA       &lt;NA&gt;
6:     6      HUP    21     0   153  Neurology
7:     7      HUP    63     1    89  Radiology
8:     8 Stanford    22     0   112  Emergency
9:     9     UCSF    19     0   228 Cardiology</code></pre>
</div>
</div>
<p>Using bracket notation:</p>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>b[a, ]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Key: &lt;PID&gt;
     PID    V1 Department Hospital   Age   Sex
   &lt;int&gt; &lt;num&gt;     &lt;char&gt;   &lt;char&gt; &lt;num&gt; &lt;num&gt;
1:     1    NA       &lt;NA&gt;     UCSF    22     1
2:     2    NA       &lt;NA&gt;      HUP    34     1
3:     3    NA       &lt;NA&gt; Stanford    41     0
4:     4    NA       &lt;NA&gt; Stanford    19     1
5:     5    NA       &lt;NA&gt;     UCSF    53     0
6:     6   153  Neurology      HUP    21     0
7:     7    89  Radiology      HUP    63     1
8:     8   112  Emergency Stanford    22     0
9:     9   228 Cardiology     UCSF    19     0</code></pre>
</div>
</div>
<p>If keys were not set for a and b, you could specify the column to match on using the <code>on</code> argument:</p>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>b[a, on <span class="ot">=</span> <span class="st">&quot;PID&quot;</span>]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Key: &lt;PID&gt;
     PID    V1 Department Hospital   Age   Sex
   &lt;int&gt; &lt;num&gt;     &lt;char&gt;   &lt;char&gt; &lt;num&gt; &lt;num&gt;
1:     1    NA       &lt;NA&gt;     UCSF    22     1
2:     2    NA       &lt;NA&gt;      HUP    34     1
3:     3    NA       &lt;NA&gt; Stanford    41     0
4:     4    NA       &lt;NA&gt; Stanford    19     1
5:     5    NA       &lt;NA&gt;     UCSF    53     0
6:     6   153  Neurology      HUP    21     0
7:     7    89  Radiology      HUP    63     1
8:     8   112  Emergency Stanford    22     0
9:     9   228 Cardiology     UCSF    19     0</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class='callout-icon'></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The easy way to understand the bracket notation merges is to think that the data.table inside the bracket is used to index the data.table on the outside, therefore the resulting table will have rows dictated by the inside table’s key.</p>
</div>
</div>
</section>
<section id="right-outer" class="level2" data-number="30.4">
<h2 data-number="30.4"><span class="header-section-number">30.4</span> Right outer</h2>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">merge</span>(a, b, <span class="at">all.y =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Key: &lt;PID&gt;
     PID Hospital   Age   Sex    V1 Department
   &lt;int&gt;   &lt;char&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;     &lt;char&gt;
1:     6      HUP    21     0   153  Neurology
2:     7      HUP    63     1    89  Radiology
3:     8 Stanford    22     0   112  Emergency
4:     9     UCSF    19     0   228 Cardiology
5:    10     &lt;NA&gt;    NA    NA    91    Surgery
6:    11     &lt;NA&gt;    NA    NA   190  Neurology
7:    12     &lt;NA&gt;    NA    NA   101 Psychiatry</code></pre>
</div>
</div>
<p>Using bracket notation:</p>
<div class="cell">
<div class="sourceCode" id="cb20"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>a[b, ]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Key: &lt;PID&gt;
     PID Hospital   Age   Sex    V1 Department
   &lt;int&gt;   &lt;char&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;     &lt;char&gt;
1:     6      HUP    21     0   153  Neurology
2:     7      HUP    63     1    89  Radiology
3:     8 Stanford    22     0   112  Emergency
4:     9     UCSF    19     0   228 Cardiology
5:    10     &lt;NA&gt;    NA    NA    91    Surgery
6:    11     &lt;NA&gt;    NA    NA   190  Neurology
7:    12     &lt;NA&gt;    NA    NA   101 Psychiatry</code></pre>
</div>
</div>
</section>
<section id="see-also" class="level2" data-number="30.5">
<h2 data-number="30.5"><span class="header-section-number">30.5</span> See also</h2>
<ul>
<li><a href="#sec-dfjoin">base R joins</a></li>
<li><a href="#sec-dplyrjoin">dplyr joins</a></li>
</ul>
<div id="quarto-navigation-envelope" class="hidden">
<p><span class="hidden" data-render-id="quarto-int-sidebar-title">PDSR</span> <span class="hidden" data-render-id="quarto-int-navbar-title">PDSR</span> <span class="hidden" data-render-id="quarto-int-next"><span class="chapter-number">31</span>  <span class="chapter-title">Advanced usage examples</span></span> <span class="hidden" data-render-id="quarto-int-prev"><span class="chapter-number">29</span>  <span class="chapter-title">Reshape</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/index.html">Welcome</span> <span class="hidden" data-render-id="quarto-int-sidebar:/Preface.html"><span class="chapter-number">1</span>  <span class="chapter-title">Preface</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/Introduction.html"><span class="chapter-number">2</span>  <span class="chapter-title">Introduction</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/IDEs.html"><span class="chapter-number">3</span>  <span class="chapter-title">IDEs</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/Packages.html"><span class="chapter-number">4</span>  <span class="chapter-title">R packages</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/BasicOps.html"><span class="chapter-number">5</span>  <span class="chapter-title">Basic operations</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/DataTypes.html"><span class="chapter-number">6</span>  <span class="chapter-title">Data Types &amp; Vectors</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/DataStructures.html"><span class="chapter-number">7</span>  <span class="chapter-title">Data Structures</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/Indexing.html"><span class="chapter-number">8</span>  <span class="chapter-title">Indexing</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/Factors.html"><span class="chapter-number">9</span>  <span class="chapter-title">Factors</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/DataIO.html"><span class="chapter-number">10</span>  <span class="chapter-title">Data Input/Output</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/Vectorization.html"><span class="chapter-number">11</span>  <span class="chapter-title">Vectorized Operations</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/ControlFlow.html"><span class="chapter-number">12</span>  <span class="chapter-title">Control flow</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/Summarize.html"><span class="chapter-number">13</span>  <span class="chapter-title">Summarizing Data</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/Aggregate.html"><span class="chapter-number">14</span>  <span class="chapter-title">Aggregate</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/Functions.html"><span class="chapter-number">15</span>  <span class="chapter-title">Functions</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/LoopFunctions.html"><span class="chapter-number">16</span>  <span class="chapter-title">Loop Functions</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:quarto-sidebar-section-1">Data Frames</span> <span class="hidden" data-render-id="quarto-int-sidebar:/dfBasics.html"><span class="chapter-number">17</span>  <span class="chapter-title">Working with Data frames</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/dfReshape.html"><span class="chapter-number">18</span>  <span class="chapter-title">Reshaping</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/dfJoin.html"><span class="chapter-number">19</span>  <span class="chapter-title">Joins</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/DataTrans.html"><span class="chapter-number">20</span>  <span class="chapter-title">Data Transformations</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/MissingData.html"><span class="chapter-number">21</span>  <span class="chapter-title">Handling Missing data</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/Strings.html"><span class="chapter-number">22</span>  <span class="chapter-title">Strings</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/DateTime.html"><span class="chapter-number">23</span>  <span class="chapter-title">Date and Time</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/SetOps.html"><span class="chapter-number">24</span>  <span class="chapter-title">Set operations</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/ClassesAndOOP.html"><span class="chapter-number">25</span>  <span class="chapter-title">Classes and OOP</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:quarto-sidebar-section-2">Data Table</span> <span class="hidden" data-render-id="quarto-int-sidebar:/dtBasics.html"><span class="chapter-number">26</span>  <span class="chapter-title">Efficient data analysis with <strong>data.table</strong></span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/dtRefSem.html"><span class="chapter-number">27</span>  <span class="chapter-title">Reference semantics</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/dtDataIO.html"><span class="chapter-number">28</span>  <span class="chapter-title">Data I/O</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/dtReshape.html"><span class="chapter-number">29</span>  <span class="chapter-title">Reshape</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/dtJoin.html"><span class="chapter-number">30</span>  <span class="chapter-title">Joins</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/DataTableII.html"><span class="chapter-number">31</span>  <span class="chapter-title">Advanced usage examples</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:quarto-sidebar-section-3">Tidyverse</span> <span class="hidden" data-render-id="quarto-int-sidebar:/dplyr.html"><span class="chapter-number">32</span>  <span class="chapter-title">Introduction to <strong>dplyr</strong></span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/dplyrJoin.html"><span class="chapter-number">33</span>  <span class="chapter-title">Joins</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/tidyrReshape.html"><span class="chapter-number">34</span>  <span class="chapter-title">Reshaping with <strong>tidyr</strong></span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/lubridate.html"><span class="chapter-number">35</span>  <span class="chapter-title">Dates with <strong>lubridate</strong></span></span> <span class="hidden" data-render-id="quarto-int-sidebar:quarto-sidebar-section-4">Graphics</span> <span class="hidden" data-render-id="quarto-int-sidebar:/BaseGraphics.html"><span class="chapter-number">36</span>  <span class="chapter-title">Base Graphics</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/Colors.html"><span class="chapter-number">37</span>  <span class="chapter-title">Colors</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/ggplot2.html"><span class="chapter-number">38</span>  <span class="chapter-title">Introduction to <strong>ggplot2</strong></span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/plotly.html"><span class="chapter-number">39</span>  <span class="chapter-title">Introduction to <strong>plotly</strong></span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/HypothesisTesting.html"><span class="chapter-number">40</span>  <span class="chapter-title">Common statistical tests</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/GLM.html"><span class="chapter-number">41</span>  <span class="chapter-title">Introduction to the GLM</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/Profiling.html"><span class="chapter-number">42</span>  <span class="chapter-title">Benchmarking &amp; Profiling</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/Optimization.html"><span class="chapter-number">43</span>  <span class="chapter-title">Optimization</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:quarto-sidebar-section-5">Introduction to Machine Learning</span> <span class="hidden" data-render-id="quarto-int-sidebar:/Resampling.html"><span class="chapter-number">44</span>  <span class="chapter-title">Resampling</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/Supervised.html"><span class="chapter-number">45</span>  <span class="chapter-title">Supervised Learning</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/Unsupervised.html"><span class="chapter-number">46</span>  <span class="chapter-title">Unsupervised Learning</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/Quarto.html"><span class="chapter-number">47</span>  <span class="chapter-title">Quarto</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:quarto-sidebar-section-6">System</span> <span class="hidden" data-render-id="quarto-int-sidebar:/TerminalIntro.html"><span class="chapter-number">48</span>  <span class="chapter-title">Introduction to the system shell</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/GitHubIntro.html"><span class="chapter-number">49</span>  <span class="chapter-title">Git &amp; GitHub: the basics</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/Resources.html"><span class="chapter-number">50</span>  <span class="chapter-title">Resources</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/DataPipeline.html"><span class="chapter-number">51</span>  <span class="chapter-title">Data Pipeline Overview</span></span> <span class="hidden" data-render-id="quarto-int-sidebar:/CrashCourse.html">Crash Course</span> <span class="hidden" data-render-id="quarto-int-sidebar:/References.html">References</span> <span class="hidden" data-render-id="quarto-breadcrumbs-8bb7ca5d3563fed1caedaa2f2832bfe5">Data Table</span> <span class="hidden" data-render-id="quarto-breadcrumbs-3ead8360b80623d5f19ce70bcaf4b17f"><span class="chapter-number">30</span>  <span class="chapter-title">Joins</span></span></p>
<div class="hidden" data-render-id="footer-center">
<p>© 2023 E.D. Gennatas</p>
</div>
</div>
<div id="quarto-meta-markdown" class="hidden">
<p><span class="hidden" data-render-id="quarto-metatitle">PDSR - <span id="sec-dtjoin" class="quarto-section-identifier"><span class="chapter-number">30</span>  <span class="chapter-title">Joins</span></span></span> <span class="hidden" data-render-id="quarto-twittercardtitle">PDSR - <span id="sec-dtjoin" class="quarto-section-identifier"><span class="chapter-number">30</span>  <span class="chapter-title">Joins</span></span></span> <span class="hidden" data-render-id="quarto-ogcardtitle">PDSR - <span id="sec-dtjoin" class="quarto-section-identifier"><span class="chapter-number">30</span>  <span class="chapter-title">Joins</span></span></span> <span class="hidden" data-render-id="quarto-metasitename">PDSR</span> <span class="hidden" data-render-id="quarto-twittercarddesc"></span> <span class="hidden" data-render-id="quarto-ogcardddesc"></span></p>
</div>
</section>

</main> <!-- /main -->
<script id = "quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        return container.innerHTML
      } else {
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        console.log("RESIZE");
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a  href="/dtReshape.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class='chapter-number'>29</span>  <span class='chapter-title'>Reshape</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a  href="/DataTableII.html" class="pagination-link">
        <span class="nav-page-text"><span class='chapter-number'>31</span>  <span class='chapter-title'>Advanced usage examples</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <div class='footer-contents'>&copy; 2023 E.D. Gennatas</div>  
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>

</body>

</html>
