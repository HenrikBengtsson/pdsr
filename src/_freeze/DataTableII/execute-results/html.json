{
  "hash": "806e374847837a7a21d82965e74e296e",
  "result": {
    "markdown": "---\nknitr:\n  opts_chunk:\n    comment: \"\"\n    cache: true\n---\n\n\n# Advanced Usage Examples {#dtii}\n\nThis is a growing list of slightly more advanced examples using **data.table**.\n\n\n::: {.cell hash='DataTableII_cache/html/unnamed-chunk-1_6328cf5334c92b92fd4edf9316869c5d'}\n\n```{.r .cell-code}\nlibrary(data.table)\n```\n:::\n\n\n## Count by group using `.N`\n\n::: {.cell hash='DataTableII_cache/html/unnamed-chunk-2_baf66a6b8509eb1ecc084b3f912dfe9a'}\n\n```{.r .cell-code}\nlibrary(palmerpenguins)\npeng <- as.data.table(penguins)\n```\n:::\n\n\nExample: Count penguins by island:\n\n\n::: {.cell hash='DataTableII_cache/html/unnamed-chunk-3_fddb71487725a9f0ab8445b8d23b6ec9'}\n\n```{.r .cell-code}\npeng[, .N, by = island]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n      island     N\n      <fctr> <int>\n1: Torgersen    52\n2:    Biscoe   168\n3:     Dream   124\n```\n\n\n:::\n:::\n\n\nExample: Count by island and species:\n\n\n::: {.cell hash='DataTableII_cache/html/unnamed-chunk-4_1d6f38142eee3de4fab7e1b8969f36f3'}\n\n```{.r .cell-code}\npeng[, .N, by = list(island, species)]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n      island   species     N\n      <fctr>    <fctr> <int>\n1: Torgersen    Adelie    52\n2:    Biscoe    Adelie    44\n3:     Dream    Adelie    56\n4:    Biscoe    Gentoo   124\n5:     Dream Chinstrap    68\n```\n\n\n:::\n:::\n\n\n## Index within groups using `.I`\n\nFor example, get index for min or max within each group, where index\nrefers to the entire data.table.\n\nLook at the documentation for `.I`\n\n\n::: {.cell hash='DataTableII_cache/html/unnamed-chunk-5_3b2f1f733730e8914331b4e1382d9485'}\n\n```{.r .cell-code}\nir <- as.data.table(iris)\nir[, .I[which.max(Petal.Width)], by = Species]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n      Species    V1\n       <fctr> <int>\n1:     setosa    44\n2: versicolor    71\n3:  virginica   101\n```\n\n\n:::\n:::\n\n\nUse that to get the case with max Petal.Width from each Species\n\n\n::: {.cell hash='DataTableII_cache/html/unnamed-chunk-6_238bcc090c752ba0d155219e2da389e3'}\n\n```{.r .cell-code}\nir[, ir[, .I[which.max(Petal.Width)], by = Species][[2]]]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  44  71 101\n```\n\n\n:::\n:::\n\n\n## See also\n\n- [data.table docs](https://rdatatable.gitlab.io/data.table/index.html)\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}